import type { BlogPost, BlogCategory } from '@erp/shared';
import { calculateKPI } from '../calculations/kpi';

const blogPosts: BlogPost[] = [
  {
    id: 'blog-1',
    title: '5 Ways AI is Transforming Manufacturing Quality Control',
    slug: 'ai-transforming-manufacturing-quality-control',
    excerpt: 'Discover how artificial intelligence is revolutionizing quality inspection, defect detection, and predictive maintenance in modern manufacturing facilities.',
    content: `<h2>The Rise of AI in Manufacturing</h2><p>Artificial intelligence is no longer a futuristic concept in manufacturing—it's here, and it's transforming how companies approach quality control. From <strong>computer vision systems</strong> that detect microscopic defects to <strong>predictive analytics</strong> that prevent equipment failures, AI is becoming an essential tool in the manufacturing toolkit.</p><h2>1. Automated Visual Inspection</h2><p>Traditional quality inspection relied on human eyes, which are prone to fatigue and inconsistency. Modern AI-powered vision systems can inspect thousands of parts per minute with <strong>99.9% accuracy</strong>, detecting surface defects, dimensional variations, and assembly errors that would be invisible to the naked eye.</p><h2>2. Predictive Quality Analytics</h2><p>Instead of waiting for defects to occur, AI analyzes production data in real-time to predict quality issues before they happen. By monitoring parameters like temperature, pressure, and vibration, the system identifies patterns that precede defects.</p><ul><li>Reduced scrap rates by up to 30%</li><li>Earlier detection of process drift</li><li>Automated root cause analysis</li></ul><h2>3. SPC Automation</h2><p>Statistical Process Control (SPC) charts are fundamental to quality management. AI automates the creation and monitoring of control charts, automatically flagging out-of-control conditions and suggesting corrective actions.</p><h2>4. Supply Chain Quality</h2><p>AI extends quality control beyond the factory floor to the entire supply chain. Incoming material inspection, supplier quality scoring, and lot traceability are all enhanced through intelligent automation.</p><h2>5. Continuous Improvement</h2><p>Machine learning algorithms continuously analyze production data to identify optimization opportunities. Over time, the system learns from every defect, every adjustment, and every improvement to make increasingly accurate predictions.</p>`,
    category: 'Technology',
    tags: ['ai', 'quality-control', 'manufacturing', 'automation'],
    featuredImageUrl: '',
    author: 'Sarah Chen',
    authorAvatar: '',
    status: 'published',
    publishedAt: '2025-12-15T10:00:00Z',
    seoTitle: '5 Ways AI is Transforming Manufacturing Quality Control | ERP Blog',
    seoDescription: 'Learn how AI transforms quality control in manufacturing with automated inspection, predictive analytics, and SPC automation.',
    seoKeywords: ['ai manufacturing', 'quality control', 'predictive analytics'],
    seoScore: 92,
    wordCount: 1450,
    readTimeMinutes: 6,
    viewCount: 3420,
    createdAt: '2025-12-14T08:00:00Z',
    updatedAt: '2025-12-15T10:00:00Z',
  },
  {
    id: 'blog-2',
    title: 'Understanding BOM Management: A Complete Guide',
    slug: 'bom-management-complete-guide',
    excerpt: 'Master Bills of Materials management with this comprehensive guide covering multi-level BOMs, revision control, and cost rollups.',
    content: `<h2>What is a Bill of Materials?</h2><p>A Bill of Materials (BOM) is the foundation of manufacturing. It defines the <strong>components, quantities, and relationships</strong> needed to produce a finished product. Effective BOM management is critical for accurate costing, procurement planning, and production efficiency.</p><h2>Single vs. Multi-Level BOMs</h2><p>A single-level BOM lists only the immediate components of an assembly. A multi-level BOM shows the complete hierarchy, including sub-assemblies and their components. Modern ERP systems support both, with the ability to explode multi-level BOMs for materials planning.</p><h2>Key BOM Fields</h2><ul><li><strong>Item number</strong> — Unique identifier for each component</li><li><strong>Quantity per</strong> — How many of each component per parent</li><li><strong>Unit of measure</strong> — Each, kg, meters, etc.</li><li><strong>Scrap factor</strong> — Expected waste percentage</li><li><strong>Lead time offset</strong> — When to start procuring/producing</li></ul><h2>Revision Control</h2><p>BOMs change frequently as products evolve. A robust revision control system tracks every change, maintains historical versions, and ensures production always uses the correct revision.</p>`,
    category: 'Manufacturing',
    tags: ['bom', 'manufacturing', 'production-planning', 'erp'],
    featuredImageUrl: '',
    author: 'Michael Torres',
    status: 'published',
    publishedAt: '2025-12-08T14:00:00Z',
    seoScore: 87,
    wordCount: 1890,
    readTimeMinutes: 8,
    viewCount: 2810,
    createdAt: '2025-12-07T09:00:00Z',
    updatedAt: '2025-12-08T14:00:00Z',
  },
  {
    id: 'blog-3',
    title: 'Reducing Inventory Carrying Costs: 7 Proven Strategies',
    slug: 'reducing-inventory-carrying-costs',
    excerpt: 'Inventory carrying costs can eat 20-30% of your inventory value annually. Learn proven strategies to reduce these costs without sacrificing service levels.',
    content: `<h2>The Hidden Cost of Inventory</h2><p>Most manufacturers know their inventory value, but few understand the true cost of holding that inventory. <strong>Carrying costs</strong> typically run 20-30% of inventory value per year, including capital costs, storage, insurance, obsolescence, and shrinkage.</p><h2>Strategy 1: ABC Analysis</h2><p>Not all inventory items deserve the same attention. ABC analysis classifies items by value and volume, allowing you to focus tight controls on high-value A items while using simpler methods for low-value C items.</p><h2>Strategy 2: Demand Forecasting</h2><p>Better forecasting means less safety stock. Modern AI-powered forecasting tools analyze historical demand patterns, seasonality, and external factors to produce more accurate predictions.</p><h2>Strategy 3: Just-in-Time (JIT)</h2><p>JIT minimizes inventory by coordinating deliveries with production schedules. While not suitable for all items, JIT can dramatically reduce carrying costs for high-volume, predictable demand items.</p>`,
    category: 'Operations',
    tags: ['inventory', 'cost-reduction', 'supply-chain', 'operations'],
    featuredImageUrl: '',
    author: 'Sarah Chen',
    status: 'published',
    publishedAt: '2025-11-28T09:00:00Z',
    seoScore: 78,
    wordCount: 2100,
    readTimeMinutes: 9,
    viewCount: 4150,
    createdAt: '2025-11-27T15:00:00Z',
    updatedAt: '2025-11-28T09:00:00Z',
  },
  {
    id: 'blog-4',
    title: 'The Complete Guide to Manufacturing ERP Implementation',
    slug: 'manufacturing-erp-implementation-guide',
    excerpt: 'A step-by-step guide to successfully implementing an ERP system in your manufacturing facility, from vendor selection to go-live.',
    content: `<h2>Why ERP Implementations Fail</h2><p>Studies show that <strong>50-70% of ERP implementations</strong> fail to meet expectations. The most common reasons include poor planning, inadequate change management, and unrealistic timelines. This guide helps you avoid these pitfalls.</p><h2>Phase 1: Assessment & Planning</h2><p>Before selecting a vendor, document your current processes, pain points, and requirements. Involve stakeholders from every department to ensure comprehensive coverage.</p><h2>Phase 2: Vendor Selection</h2><p>Evaluate vendors against your specific manufacturing needs. Key criteria include:</p><ul><li>Industry-specific features (BOMs, work orders, quality)</li><li>Integration capabilities</li><li>Total cost of ownership</li><li>Implementation timeline</li><li>Vendor stability and support</li></ul>`,
    category: 'ERP',
    tags: ['erp', 'implementation', 'manufacturing', 'digital-transformation'],
    featuredImageUrl: '',
    author: 'James Wilson',
    status: 'published',
    publishedAt: '2025-11-20T11:00:00Z',
    seoScore: 95,
    wordCount: 2450,
    readTimeMinutes: 10,
    viewCount: 5680,
    createdAt: '2025-11-19T07:00:00Z',
    updatedAt: '2025-11-20T11:00:00Z',
  },
  {
    id: 'blog-5',
    title: 'Automated Payroll Processing for Manufacturing Companies',
    slug: 'automated-payroll-processing-manufacturing',
    excerpt: 'How to automate payroll for complex manufacturing environments with shift differentials, overtime rules, and job costing.',
    content: `<h2>Manufacturing Payroll Complexity</h2><p>Manufacturing payroll is more complex than typical office payroll. You're dealing with <strong>shift differentials, overtime calculations, job costing</strong>, and compliance with labor regulations. Automation is essential.</p><h2>Time Clock Integration</h2><p>Modern time clock systems integrate directly with payroll, automatically calculating regular and overtime hours. When linked to work orders, they also enable precise job costing.</p><h2>The Auto-Payroll Pipeline</h2><p>A fully automated payroll pipeline follows these steps:</p><ol><li>Collect time entries for the pay period</li><li>Calculate gross pay (regular + overtime + differentials)</li><li>Apply tax withholdings (federal, state, local, FICA)</li><li>Deduct benefits (health, dental, 401k)</li><li>Generate pay stubs and direct deposit files</li><li>Post journal entries to the general ledger</li></ol>`,
    category: 'Finance',
    tags: ['payroll', 'automation', 'manufacturing', 'hr'],
    featuredImageUrl: '',
    author: 'Lisa Park',
    status: 'published',
    publishedAt: '2025-11-12T08:00:00Z',
    seoScore: 82,
    wordCount: 1680,
    readTimeMinutes: 7,
    viewCount: 2190,
    createdAt: '2025-11-11T14:00:00Z',
    updatedAt: '2025-11-12T08:00:00Z',
  },
  {
    id: 'blog-6',
    title: 'Standard Operating Procedures: Why Every Manufacturer Needs Them',
    slug: 'standard-operating-procedures-manufacturers',
    excerpt: 'SOPs are the backbone of consistent manufacturing quality. Learn how to create, manage, and enforce SOPs across your organization.',
    content: `<h2>The Importance of SOPs</h2><p>Standard Operating Procedures ensure every task is performed consistently, regardless of who performs it. In manufacturing, this consistency directly impacts <strong>product quality, safety, and regulatory compliance</strong>.</p><h2>Creating Effective SOPs</h2><p>A good SOP includes clear step-by-step instructions, safety warnings, required equipment and PPE, quality checkpoints, and troubleshooting guidance. Modern ERP systems with AI assistance can help generate SOPs quickly.</p>`,
    category: 'Operations',
    tags: ['sop', 'quality', 'manufacturing', 'compliance'],
    featuredImageUrl: '',
    author: 'Michael Torres',
    status: 'published',
    publishedAt: '2025-11-05T10:00:00Z',
    seoScore: 74,
    wordCount: 1320,
    readTimeMinutes: 5,
    viewCount: 1870,
    createdAt: '2025-11-04T16:00:00Z',
    updatedAt: '2025-11-05T10:00:00Z',
  },
  {
    id: 'blog-7',
    title: 'How to Choose the Right Work Order Management System',
    slug: 'choosing-work-order-management-system',
    excerpt: 'A practical guide to evaluating work order management features in manufacturing ERP systems.',
    content: `<h2>Work Order Management Essentials</h2><p>The work order is the heartbeat of manufacturing operations. A good work order management system handles scheduling, material allocation, labor tracking, and quality documentation.</p>`,
    category: 'Manufacturing',
    tags: ['work-orders', 'manufacturing', 'erp', 'production'],
    featuredImageUrl: '',
    author: 'James Wilson',
    status: 'draft',
    seoScore: 45,
    wordCount: 980,
    readTimeMinutes: 4,
    viewCount: 0,
    createdAt: '2025-12-18T10:00:00Z',
    updatedAt: '2025-12-18T10:00:00Z',
  },
  {
    id: 'blog-8',
    title: 'Lean Manufacturing Principles for Small Manufacturers',
    slug: 'lean-manufacturing-principles-small-manufacturers',
    excerpt: 'You don\'t need to be Toyota to benefit from lean. Here\'s how small manufacturers can apply lean principles for immediate results.',
    content: `<h2>Lean Isn't Just for Big Companies</h2><p>Many small manufacturers believe lean manufacturing is only for large enterprises. In reality, lean principles are even more impactful for smaller operations where every dollar of waste matters more.</p>`,
    category: 'Manufacturing',
    tags: ['lean', 'manufacturing', 'continuous-improvement', 'small-business'],
    featuredImageUrl: '',
    author: 'Sarah Chen',
    status: 'archived',
    publishedAt: '2025-08-10T09:00:00Z',
    seoScore: 68,
    wordCount: 1560,
    readTimeMinutes: 6,
    viewCount: 890,
    createdAt: '2025-08-09T12:00:00Z',
    updatedAt: '2025-10-01T08:00:00Z',
  },
];

const blogCategories: BlogCategory[] = [
  { id: 'cat-1', name: 'Manufacturing', slug: 'manufacturing', postCount: 3 },
  { id: 'cat-2', name: 'Technology', slug: 'technology', postCount: 1 },
  { id: 'cat-3', name: 'Operations', slug: 'operations', postCount: 2 },
  { id: 'cat-4', name: 'Finance', slug: 'finance', postCount: 1 },
  { id: 'cat-5', name: 'ERP', slug: 'erp', postCount: 1 },
  { id: 'cat-6', name: 'Supply Chain', slug: 'supply-chain', postCount: 0 },
];

export function getBlogPosts() {
  return blogPosts;
}

export function getBlogCategories() {
  return blogCategories;
}

export function getBlogPostBySlug(slug: string) {
  return blogPosts.find((p) => p.slug === slug) || null;
}

export function getBlogOverview() {
  const published = blogPosts.filter((p) => p.status === 'published');
  const totalViews = published.reduce((sum, p) => sum + p.viewCount, 0);
  const avgSeo = Math.round(published.reduce((sum, p) => sum + p.seoScore, 0) / published.length);

  return {
    totalPosts: calculateKPI('Total Posts', blogPosts.length, 6),
    publishedPosts: calculateKPI('Published', published.length, 5),
    monthlyViews: calculateKPI('Monthly Views', totalViews, 15200),
    avgSEOScore: calculateKPI('Avg SEO Score', avgSeo, 72),
  };
}
